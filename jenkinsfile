#!groovy
import hudson.*
import hudson.model.*
import jenkins.*
import jenkins.model.*

node {
    stage('compile'){
		def envs = readFile('/../properties/config.properties').split("\n")
		echo "envs: ${envs}"
		withEnv(envs){
			git url: "${gitURL}", branch: '*/develop'
        }
    }
    stage('Unit_test'){
        echo 'Hello World'
        sh 'touch test'
        sh 'ls'
    }
    stage('QA_Sonar'){
        echo 'Hello World'     
    }
    stage('Deploy_Artifact'){
        echo 'Hello World'     
    }
    stage('Deploy_to_Dev'){
        echo 'Hello World'     
    }
}

def readProperties(String propertiesFile){
    return new Properties().load(new File(propertiesFile))
}